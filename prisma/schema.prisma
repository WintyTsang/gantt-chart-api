generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["mongodb"]
}

// datasource db {
//     provider = "mongodb"
//     url      = env("COMM_DATABASE_URL")
// }

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model PlaneTrip {
  id            String    @id @default(auto()) @map("_id") @db.ObjectId
  origin        String
  destination   String
  departureTime DateTime  @map("departure_time")
  flightTime    Int       @map("arrival_time")
  createdAt     DateTime  @map("created_at")
  deletedAt     DateTime? @map("deleted_at")
  planeId       String

  // Relations
  GroundTime GroundTime?

  @@index([planeId])
  @@map("planeTrip")
}

model GroundTime {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId
  planeId     String
  destination String
  groundTime  DateTime
  duration    Int
  createdAt   DateTime  @map("created_at")
  deletedAt   DateTime? @map("deleted_at")
  planeTripId String    @map("plane_trip_id") @db.ObjectId @unique
  PlaneTrip   PlaneTrip @relation(fields: [planeTripId], references: [id])

  @@index([planeId])
  @@map("groundTime")
}

// generator client {
//   provider        = "prisma-client-js"
//   previewFeatures = ["mongodb"]
// }

// // datasource db {
// //     provider = "mongodb"
// //     url      = env("COMM_DATABASE_URL")
// // }

// datasource db {
//   provider = "mongodb"
//   url      = env("DATABASE_URL")
// }

// table a : 1 ,2. 3,4

// table2 1, 2, 3

// model PlaneTrip {
//   id            String     @id @default(auto()) @map("_id") @db.ObjectId
//   origin        String
//   destination   String
//   departureTime DateTime   @map("departure_time")
//   flightTime    Int        @map("arrival_time")
//   createdAt     DateTime   @map("created_at")
//   deletedAt     DateTime?  @map("deleted_at")
//   planeId       String     @map("plane_id")
//   groundTimeId  String     @map("ground_time_id") @db.ObjectId
//   GroundTime    GroundTime @relation(fields: [groundTimeId], references: [id])
//   // Relations

//   @@index([planeId])
//   @@map("planeTrip")
// }

// model GroundTime {
//   id          String    @id @default(auto()) @map("_id") @db.ObjectId
//   destination String
//   planeId     String    @map("plane_id")
//   groundTime  DateTime
//   duration    Int
//   createdAt   DateTime  @map("created_at")
//   deletedAt   DateTime? @map("deleted_at")

//   PlaneTrip PlaneTrip[]

//   @@index([planeId])
//   @@map("groundTime")
// }
